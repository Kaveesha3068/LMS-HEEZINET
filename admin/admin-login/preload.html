<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="EduLMS Student Preload Management - Quick load students for specific classes">
    <meta name="keywords" content="preload, students, LMS, education, class management, EduLMS">
    <meta name="author" content="EduLMS">
    <title>EduLMS - Student Preload</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../../frontend/assets/images/EduLMS-icon.ico">

    <!-- External Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">

    <!-- Bootstrap 5.3.8 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
          crossorigin="anonymous">

    <!-- Enhanced Preload Management CSS -->
    <link rel="stylesheet" href="styles/attendance.css">
    <link rel="stylesheet" href="styles/preload.css">
</head>

<body>
    <!-- Mobile Menu Toggle Button -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle mobile menu">
        <span class="material-symbols-outlined">menu</span>
    </button>

    <!-- Application Container -->
    <div class="app-container">
        
        <!-- Sidebar Navigation (Dashboard Style) -->
        <div class="sidebar" id="sidebar">
            <!-- Logo Section -->
            <div class="logo">
                <img src="../../frontend/assets/images/logo.png" alt="EduLMS Logo" width="32" height="32">
                <span>EduLMS</span>
            </div>

            <!-- Navigation Menu -->
            <div class="nav-menu">
                <a href="dashboard.html" class="nav-item bold-text">📊 Dashboard</a>
                <a href="attendance.html" class="nav-item">📋 Attendance</a>
                <a href="Messages.html" class="nav-item">💬 Messages</a>
                <a href="calendar.html" class="nav-item">📅 Calendar</a>
                <a href="Enrollments.html" class="nav-item">📋 Enrollments</a>
                <a href="Courses.html" class="nav-item bold-text">📚 Courses</a>
                <a href="Instructors.html" class="nav-item">👨‍🏫 Instructors</a>
                <a href="Students.html" class="nav-item">👥 Students</a>
                <a href="preload.html" class="nav-item active bold-text">🔄 Preload Students</a>
                <a href="Financials.html" class="nav-item">💰 Financials</a>
            </div>

            <!-- Sidebar Footer -->
            <div class="sidebar-footer">
                <button class="sign-out-btn" onclick="handleSignOut()">
                    <span class="sign-out-icon">🚪</span>
                    <span class="sign-out-text">Sign Out</span>
                </button>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content" id="mainContent">
            
            <!-- Header Section -->
            <div class="header">
                <div class="header-left">
                    <h2 class="page-title">
                        <span class="material-symbols-outlined">groups</span>
                       Student Preload
                    </h2>
                    <div class="breadcrumb">
                        <a href="dashboard.html">Dashboard</a> / Student Preload Management
                    </div>
                </div>
                <div class="header-right">
                    <div class="search-container">
                        <input type="text" 
                               id="globalSearch" 
                               class="form-control" 
                               placeholder="Search classes and students..." 
                               autocomplete="off">
                        <span class="material-symbols-outlined search-icon">search</span>
                    </div>
                    <div class="user-profile">
                        <div class="user-avatar">
                            <img src="../../frontend/assets/images/student.png" alt="Admin User">
                            <span class="notification-badge">2</span>
                        </div>
                        <div class="user-info">
                            <span class="user-name">Admin User</span>
                            <span class="user-role">Administrator</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Preload Section -->
            <div class="card">
                <div class="card-header card-header-success">
                    <h5>
                        <span class="material-symbols-outlined">flash_on</span>
                        Quick Preload Classes
                    </h5>
                </div>
                <div class="card-body">
                    <p class="preload-description">Quickly load students for attendance tracking</p>
                    <div class="preload-buttons">
                        <button class="btn btn-outline-primary preload-btn" data-class="CS101">
                            <span class="material-symbols-outlined">computer</span>
                            CS 101 Students
                            <small class="d-block text-muted">25 students</small>
                        </button>
                        <button class="btn btn-outline-warning preload-btn" data-class="MATH201">
                            <span class="material-symbols-outlined">functions</span>
                            Math 201 Students
                            <small class="d-block text-muted">30 students</small>
                        </button>
                        <button class="btn btn-outline-info preload-btn" data-class="ENG102">
                            <span class="material-symbols-outlined">book</span>
                            English 102 Students
                            <small class="d-block text-muted">22 students</small>
                        </button>
                        <button class="btn btn-outline-success preload-btn" data-class="PHY301">
                            <span class="material-symbols-outlined">science</span>
                            Physics 301 Students
                            <small class="d-block text-muted">18 students</small>
                        </button>
                        <button class="btn btn-outline-secondary preload-btn" data-class="HIST150">
                            <span class="material-symbols-outlined">history_edu</span>
                            History 150 Students
                            <small class="d-block text-muted">35 students</small>
                        </button>
                        <button class="btn btn-outline-danger preload-btn" data-class="ART200">
                            <span class="material-symbols-outlined">palette</span>
                            Art 200 Students
                            <small class="d-block text-muted">15 students</small>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Custom Preload Section -->
            <div class="card">
                <div class="card-header card-header-primary">
                    <h5>
                        <span class="material-symbols-outlined">tune</span>
                        Custom Preload
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label for="classSelect" class="form-label">Select Class</label>
                                <select class="form-select" id="classSelect">
                                    <option value="">Choose a class...</option>
                                    <option value="CS101">Computer Science 101</option>
                                    <option value="MATH201">Mathematics 201</option>
                                    <option value="ENG102">English 102</option>
                                    <option value="PHY301">Physics 301</option>
                                    <option value="HIST150">History 150</option>
                                    <option value="ART200">Art 200</option>
                                    <option value="BIO250">Biology 250</option>
                                    <option value="CHEM180">Chemistry 180</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label for="sectionSelect" class="form-label">Select Section</label>
                                <select class="form-select" id="sectionSelect">
                                    <option value="">Choose a section...</option>
                                    <option value="A">Section A</option>
                                    <option value="B">Section B</option>
                                    <option value="C">Section C</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <button class="btn btn-primary" id="customPreloadBtn">
                                <span class="material-symbols-outlined">download</span>
                                Load Selected Class
                            </button>
                            <button class="btn btn-success ms-2" id="preloadToAttendanceBtn">
                                <span class="material-symbols-outlined">arrow_forward</span>
                                Preload & Go to Attendance
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Preloaded Students Display -->
            <div class="card preloaded-students-card-hidden" id="preloadedStudentsCard">
                <div class="card-header card-header-info">
                    <h5>
                        <span class="material-symbols-outlined">group</span>
                        Preloaded Students
                        <span class="badge bg-light text-dark ms-2" id="studentCount">0</span>
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Student ID</th>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="preloadedStudentsTable">
                                        <!-- Students will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-12">
                            <button class="btn btn-outline-primary" id="clearPreloadBtn">
                                <span class="material-symbols-outlined">clear_all</span>
                                Clear All
                            </button>
                            <button class="btn btn-success ms-2" id="goToAttendanceBtn">
                                <span class="material-symbols-outlined">how_to_reg</span>
                                Go to Attendance Page
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Preloads -->
            <div class="card">
                <div class="card-header">
                    <h5>
                        <span class="material-symbols-outlined">history</span>
                        Recent Preloads
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="list-group" id="recentPreloadsList">
                                <div class="list-group-item d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="mb-1">CS101 - Computer Science 101</h6>
                                        <p class="mb-1 text-muted">25 students loaded</p>
                                        <small class="text-muted">2 hours ago</small>
                                    </div>
                                    <button class="btn btn-outline-primary btn-sm">
                                        <span class="material-symbols-outlined">refresh</span>
                                        Reload
                                    </button>
                                </div>
                                <div class="list-group-item d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="mb-1">MATH201 - Mathematics 201</h6>
                                        <p class="mb-1 text-muted">30 students loaded</p>
                                        <small class="text-muted">5 hours ago</small>
                                    </div>
                                    <button class="btn btn-outline-primary btn-sm">
                                        <span class="material-symbols-outlined">refresh</span>
                                        Reload
                                    </button>
                                </div>
                                <div class="list-group-item d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="mb-1">ENG102 - English 102</h6>
                                        <p class="mb-1 text-muted">22 students loaded</p>
                                        <small class="text-muted">1 day ago</small>
                                    </div>
                                    <button class="btn btn-outline-primary btn-sm">
                                        <span class="material-symbols-outlined">refresh</span>
                                        Reload
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Toast -->
    <div class="toast-container toast-container-custom position-fixed bottom-0 end-0 p-3">
        <div id="successToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-success text-white">
                <span class="material-symbols-outlined me-2">check_circle</span>
                <strong class="me-auto">Success</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" id="successToastBody">
                Students preloaded successfully!
            </div>
        </div>
    </div>

    <!-- JavaScript Libraries -->
    <!-- Bootstrap 5.3.8 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" 
            crossorigin="anonymous"></script>
    
    <!-- Enhanced Preload JavaScript -->
    <script src="scripts/preload.js"></script>
    <script src="scripts/global-signout.js"></script>
</body>
</html>